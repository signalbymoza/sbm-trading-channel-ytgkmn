
# ุฏููู ุฅุนุฏุงุฏ Stripe - ุชุทุจูู SBM Trading Channel

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ุงูุฏูุน ุงูุฅููุชุฑููู Stripe ุฅูู ุงูุชุทุจูู. ูููู ูููุณุชุฎุฏููู ุงูุขู ุงูุฏูุน ููุงุจู ุงูุงุดุชุฑุงูุงุช ุจุงุณุชุฎุฏุงู:
- ๐ณ ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ (Visa, Mastercard, ุฅูุฎ)
- ๐ Apple Pay (ุนูู ุฃุฌูุฒุฉ iOS)
- ๐ค Google Pay (ุนูู ุฃุฌูุฒุฉ Android)

---

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ

### 1๏ธโฃ ุฅูุดุงุก ุญุณุงุจ Stripe

1. ุงุฐูุจ ุฅูู: https://stripe.com
2. ูู ุจุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
3. ุฃููู ุนูููุฉ ุงูุชุญูู ูู ุงููููุฉ

### 2๏ธโฃ ุงูุญุตูู ุนูู ููุงุชูุญ API

ูู ููุญุฉ ุชุญูู Stripe:
1. ุงุฐูุจ ุฅูู **Developers** โ **API keys**
2. ุงูุณุฎ ุงูููุงุชูุญ ุงูุชุงููุฉ:
   - **Publishable key**: ูุจุฏุฃ ุจู `pk_test_...` (ููุงุฎุชุจุงุฑ) ุฃู `pk_live_...` (ููุฅูุชุงุฌ)
   - **Secret key**: ูุจุฏุฃ ุจู `sk_test_...` (ููุงุฎุชุจุงุฑ) ุฃู `sk_live_...` (ููุฅูุชุงุฌ)

### 3๏ธโฃ ุชุญุฏูุซ app.json

ุงูุชุญ ููู `app.json` ููู ุจุชุญุฏูุซ ุงูุณุทุฑ ุงูุชุงูู:

```json
"stripePublishableKey": "pk_test_YOUR_ACTUAL_KEY_HERE"
```

ุงุณุชุจุฏู `pk_test_YOUR_ACTUAL_KEY_HERE` ุจููุชุงุญู ุงููุนูู ูู Stripe.

### 4๏ธโฃ ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููู Backend

ุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ ุฅูู ุจูุฆุฉ ุงูู Backend ุงูุฎุงุต ุจู:

```
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

### 5๏ธโฃ ุฅุนุฏุงุฏ Webhooks

1. ูู ููุญุฉ ุชุญูู Stripeุ ุงุฐูุจ ุฅูู **Developers** โ **Webhooks**
2. ุงุถุบุท ุนูู **Add endpoint**
3. ุฃุฏุฎู URL: `https://YOUR_BACKEND_URL/api/stripe/webhook`
4. ุงุฎุชุฑ ุงูุฃุญุฏุงุซ ุงูุชุงููุฉ:
   - `payment_intent.succeeded`
   - `payment_intent.payment_failed`
   - `checkout.session.completed`
5. ุงุญูุธ ุงูู **Signing secret** ูุงุณุชุฎุฏูู ูู `STRIPE_WEBHOOK_SECRET`

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุฏูุน

ุงุณุชุฎุฏู ุจุทุงูุงุช ุงูุงุฎุชุจุงุฑ ุงูุชุงููุฉ:

### ุจุทุงูุฉ ูุงุฌุญุฉ โ
- **ุงูุฑูู**: 4242 4242 4242 4242
- **CVV**: ุฃู 3 ุฃุฑูุงู (ูุซู: 123)
- **ุชุงุฑูุฎ ุงูุงูุชูุงุก**: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู (ูุซู: 12/25)
- **ุงูุฑูุฒ ุงูุจุฑูุฏู**: ุฃู ุฑูุฒ (ูุซู: 12345)

### ุจุทุงูุฉ ูุงุดูุฉ โ
- **ุงูุฑูู**: 4000 0000 0000 0002
- **CVV**: ุฃู 3 ุฃุฑูุงู
- **ุชุงุฑูุฎ ุงูุงูุชูุงุก**: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู

---

## ๐ ููู ูุนูู ุงููุธุงู

1. **ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุงุดุชุฑุงู**: ูุฎุชุงุฑ ุงูููุงุฉ (ุฐูุจ/ููุฑูุณ/ุชุญููู) ูุงููุฏุฉ (ุดูุฑู/3 ุฃุดูุฑ/ุณููู)
2. **ุงูุชุณุฌูู**: ูููุฃ ุงููููุฐุฌ ููุฑูุน ุตูุฑุฉ ุงููููุฉ
3. **ุงูุฏูุน**: ูุชู ุชูุฌููู ุชููุงุฆูุงู ุฅูู ุดุงุดุฉ ุงูุฏูุน
4. **ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน**: ุจุทุงูุฉ / Apple Pay / Google Pay
5. **ุงูุชุฃููุฏ**: ุนูุฏ ูุฌุงุญ ุงูุฏูุนุ ูุชู ุชูุนูู ุงูุงุดุชุฑุงู ุชููุงุฆูุงู

---

## ๐ฑ ุงููููุงุช ุงููุถุงูุฉ

### Frontend
- `app/payment.tsx` - ุดุงุดุฉ ุงูุฏูุน ุงูุฑุฆูุณูุฉ
- `utils/stripe.ts` - ุฏูุงู ูุณุงุนุฏุฉ ูู Stripe
- ุชุญุฏูุซุงุช ุนูู `app/registration.tsx` ู `app/duration-selection.tsx`

### Backend (ุชู ุฅูุดุงุคูุง ุชููุงุฆูุงู)
- `POST /api/stripe/create-payment-intent` - ุฅูุดุงุก ููุฉ ุงูุฏูุน
- `POST /api/stripe/create-checkout-session` - ุฅูุดุงุก ุฌูุณุฉ ุงูุฏูุน
- `POST /api/stripe/webhook` - ูุนุงูุฌุฉ ุฃุญุฏุงุซ Stripe
- `GET /api/payments/:id` - ุงูุญุตูู ุนูู ุชูุงุตูู ุงูุฏูุน
- `GET /api/payments/subscription/:subscriptionId` - ุงูุญุตูู ุนูู ุฏูุนุงุช ุงูุงุดุชุฑุงู

---

## ๐ ุงูุฃูุงู

โ **ุชู ุชูููุฐู**:
- ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ุนุจุฑ HTTPS
- ูุง ูุชู ุชุฎุฒูู ูุนูููุงุช ุงูุจุทุงูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุชุญูู ูู ุชูููุน Webhook ูุถูุงู ุตุญุฉ ุงูุฃุญุฏุงุซ
- ุงุณุชุฎุฏุงู Payment Intent ูุชุฃููู ุงููุนุงููุงุช

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ูุจู ุงููุดุฑ ูู ุงูุฅูุชุงุฌ:
1. โ ุงุณุชุจุฏู ููุงุชูุญ ุงูุงุฎุชุจุงุฑ (`pk_test_...`) ุจููุงุชูุญ ุงูุฅูุชุงุฌ (`pk_live_...`)
2. โ ูู ุจุชูุนูู ุญุณุงุจู ูู Stripe ุจุงููุงูู
3. โ ุงุฎุชุจุฑ ุฌููุน ุทุฑู ุงูุฏูุน ุนูู ุฃุฌูุฒุฉ ุญููููุฉ
4. โ ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Webhooks ุจุดูู ุตุญูุญ

### Apple Pay (iOS):
- ูุชุทูุจ Merchant ID ูู Apple Developer Console
- ูุง ูุนูู ูู Expo Go - ูุญุชุงุฌ ุฅูู Development Build

### Google Pay (Android):
- ูุชุทูุจ ุชูุนูู Google Pay ูู Stripe Dashboard
- ูุง ูุนูู ูู Expo Go - ูุญุชุงุฌ ุฅูู Development Build

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ููู `STRIPE_SETUP.md` ููุชูุงุตูู ุงููุงููุฉ
2. ุชุญูู ูู ูุซุงุฆู Stripe: https://stripe.com/docs
3. ุชุญูู ูู ูุซุงุฆู Expo Stripe: https://docs.expo.dev/versions/latest/sdk/stripe/

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุฅูุดุงุก ุญุณุงุจ Stripe
- [ ] ุงูุญุตูู ุนูู ููุงุชูุญ API
- [ ] ุชุญุฏูุซ `app.json` ุจููุชุงุญ Publishable
- [ ] ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููู Backend
- [ ] ุฅุนุฏุงุฏ Webhooks ูู Stripe
- [ ] ุงุฎุชุจุงุฑ ุงูุฏูุน ุจุจุทุงูุฉ ุงุฎุชุจุงุฑ
- [ ] ุงุฎุชุจุงุฑ Apple Pay (iOS)
- [ ] ุงุฎุชุจุงุฑ Google Pay (Android)
- [ ] ุงูุชุญูู ูู ุงุณุชูุงู Webhooks
- [ ] ุงุฎุชุจุงุฑ ุชูุนูู ุงูุงุดุชุฑุงู ุจุนุฏ ุงูุฏูุน

---

**ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุจูุงุณุทุฉ Natively AI** ๐ค
